[2025-09-10 12:39:43] [INFO    ] discord.client: logging in using static token
[2025-09-10 12:39:44] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: dab9446c5b0ba43f4aa91ffbd43b01e6).
[2025-09-10 12:40:35] [WARNING ] discord.gateway: Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 23, in <module>
    main()
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 18, in main
    bot.run(token=token, log_handler=handler)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 929, in run
    asyncio.run(runner())
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 504, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1421, in on_message
    await self.process_commands(message)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1418, in process_commands
    await self.invoke(ctx)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1376, in invoke
    await ctx.command.invoke(ctx)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 1064, in invoke
    await injected(*ctx.args, **ctx.kwargs)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 266, in wrapped
    ret = await coro(*args, **kwargs)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\discord_helper.py", line 54, in search
    response = search_text(query)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\langchain_helper.py", line 71, in search_text
    full_body = wikipedia.page(results[0]).content
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 276, in page
    return WikipediaPage(title, redirect=redirect, preload=preload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 299, in __init__
    self.__load(redirect=redirect, preload=preload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 367, in __load
    self.__init__(redirects['to'], redirect=redirect, preload=preload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 299, in __init__
    self.__load(redirect=redirect, preload=preload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 336, in __load
    request = _wiki_request(query_params)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 737, in _wiki_request
    r = requests.get(API_URL, params=params, headers=headers)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\sessions.py", line 724, in send
    history = [resp for resp in gen]
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\sessions.py", line 724, in <listcomp>
    history = [resp for resp in gen]
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\sessions.py", line 265, in resolve_redirects
    resp = self.send(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\urllib3\util\ssl_.py", line 458, in ssl_wrap_socket
    context.load_verify_locations(ca_certs, ca_cert_dir, ca_cert_data)

[2025-09-10 12:40:45] [WARNING ] discord.gateway: Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 23, in <module>
    main()
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 18, in main
    bot.run(token=token, log_handler=handler)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 929, in run
    asyncio.run(runner())
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 504, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1421, in on_message
    await self.process_commands(message)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1418, in process_commands
    await self.invoke(ctx)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1376, in invoke
    await ctx.command.invoke(ctx)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 1064, in invoke
    await injected(*ctx.args, **ctx.kwargs)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 266, in wrapped
    ret = await coro(*args, **kwargs)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\discord_helper.py", line 54, in search
    response = search_text(query)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\langchain_helper.py", line 84, in search_text
    response = chain.invoke({
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\runnables\base.py", line 3082, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 393, in invoke
    self.generate_prompt(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1019, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 837, in generate
    self._generate_with_cache(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1085, in _generate_with_cache
    result = self._generate(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_openai\chat_models\base.py", line 1178, in _generate
    raw_response = self.client.with_raw_response.create(**payload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_legacy_response.py", line 364, in wrapped
    return cast(LegacyAPIResponse[R], func(*args, **kwargs))
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1147, in create
    return self._post(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_base_client.py", line 982, in request
    response = self._client.send(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_client.py", line 922, in send
    response.read()
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 881, in read
    self._content = b"".join(self.iter_bytes())
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 897, in iter_bytes
    for raw_bytes in self.iter_raw():
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 951, in iter_raw
    for raw_stream_bytes in self.stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_client.py", line 153, in __iter__
    for chunk in self._stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_transports\default.py", line 127, in __iter__
    for part in self._httpcore_stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 403, in __iter__
    for part in self._stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 334, in __iter__
    for chunk in self._connection._receive_response_body(**kwargs):
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 203, in _receive_response_body
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\ssl.py", line 1295, in recv
    return self.read(buflen)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\ssl.py", line 1168, in read
    return self._sslobj.read(len)

[2025-09-10 12:40:55] [WARNING ] discord.gateway: Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 23, in <module>
    main()
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 18, in main
    bot.run(token=token, log_handler=handler)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 929, in run
    asyncio.run(runner())
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 504, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1421, in on_message
    await self.process_commands(message)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1418, in process_commands
    await self.invoke(ctx)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1376, in invoke
    await ctx.command.invoke(ctx)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 1064, in invoke
    await injected(*ctx.args, **ctx.kwargs)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 266, in wrapped
    ret = await coro(*args, **kwargs)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\discord_helper.py", line 54, in search
    response = search_text(query)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\langchain_helper.py", line 84, in search_text
    response = chain.invoke({
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\runnables\base.py", line 3082, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 393, in invoke
    self.generate_prompt(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1019, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 837, in generate
    self._generate_with_cache(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1085, in _generate_with_cache
    result = self._generate(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_openai\chat_models\base.py", line 1178, in _generate
    raw_response = self.client.with_raw_response.create(**payload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_legacy_response.py", line 364, in wrapped
    return cast(LegacyAPIResponse[R], func(*args, **kwargs))
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1147, in create
    return self._post(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_base_client.py", line 982, in request
    response = self._client.send(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_client.py", line 922, in send
    response.read()
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 881, in read
    self._content = b"".join(self.iter_bytes())
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 897, in iter_bytes
    for raw_bytes in self.iter_raw():
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 951, in iter_raw
    for raw_stream_bytes in self.stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_client.py", line 153, in __iter__
    for chunk in self._stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_transports\default.py", line 127, in __iter__
    for part in self._httpcore_stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 403, in __iter__
    for part in self._stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 334, in __iter__
    for chunk in self._connection._receive_response_body(**kwargs):
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 203, in _receive_response_body
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\ssl.py", line 1295, in recv
    return self.read(buflen)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\ssl.py", line 1168, in read
    return self._sslobj.read(len)

[2025-09-10 12:41:01] [INFO    ] discord.gateway: Shard ID None has successfully RESUMED session dab9446c5b0ba43f4aa91ffbd43b01e6.
[2025-09-10 12:46:41] [WARNING ] discord.gateway: Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 23, in <module>
    main()
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\main.py", line 18, in main
    bot.run(token=token, log_handler=handler)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 929, in run
    asyncio.run(runner())
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 504, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1421, in on_message
    await self.process_commands(message)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1418, in process_commands
    await self.invoke(ctx)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1376, in invoke
    await ctx.command.invoke(ctx)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 1064, in invoke
    await injected(*ctx.args, **ctx.kwargs)  # type: ignore
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 266, in wrapped
    ret = await coro(*args, **kwargs)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\discord_helper.py", line 54, in search
    response = search_text(query)
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\langchain_helper.py", line 84, in search_text
    response = chain.invoke({
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\runnables\base.py", line 3082, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 393, in invoke
    self.generate_prompt(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1019, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 837, in generate
    self._generate_with_cache(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1085, in _generate_with_cache
    result = self._generate(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\langchain_openai\chat_models\base.py", line 1178, in _generate
    raw_response = self.client.with_raw_response.create(**payload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_legacy_response.py", line 364, in wrapped
    return cast(LegacyAPIResponse[R], func(*args, **kwargs))
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1147, in create
    return self._post(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\openai\_base_client.py", line 982, in request
    response = self._client.send(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_client.py", line 922, in send
    response.read()
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 881, in read
    self._content = b"".join(self.iter_bytes())
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 897, in iter_bytes
    for raw_bytes in self.iter_raw():
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_models.py", line 951, in iter_raw
    for raw_stream_bytes in self.stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_client.py", line 153, in __iter__
    for chunk in self._stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpx\_transports\default.py", line 127, in __iter__
    for part in self._httpcore_stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 403, in __iter__
    for part in self._stream:
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 334, in __iter__
    for chunk in self._connection._receive_response_body(**kwargs):
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 203, in _receive_response_body
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\ssl.py", line 1295, in recv
    return self.read(buflen)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\ssl.py", line 1168, in read
    return self._sslobj.read(len)

[2025-09-10 12:46:47] [ERROR   ] discord.client: Attempting a reconnect in 0.30s
Traceback (most recent call last):
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\client.py", line 727, in connect
    await self.ws.poll_event()
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\gateway.py", line 635, in poll_event
    await self.received_message(msg.data)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\gateway.py", line 540, in received_message
    await self.send_as_json(beat)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\gateway.py", line 671, in send_as_json
    await self.send(utils._to_json(data))
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\gateway.py", line 667, in send
    await self.socket.send_str(data)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\aiohttp\client_ws.py", line 245, in send_str
    await self._writer.send_frame(
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
[2025-09-10 12:46:48] [INFO    ] discord.gateway: Shard ID None has successfully RESUMED session dab9446c5b0ba43f4aa91ffbd43b01e6.
[2025-09-10 13:04:44] [WARNING ] discord.gateway: Shard ID None has stopped responding to the gateway. Closing and restarting.
[2025-09-10 13:04:44] [INFO    ] discord.gateway: Shard ID None session has been invalidated.
[2025-09-10 13:04:51] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: b68e1cdf93f23c5c239a3b0f59e670eb).
[2025-09-10 13:10:49] [ERROR   ] discord.ext.commands.bot: Ignoring exception in command search
Traceback (most recent call last):
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 266, in wrapped
    ret = await coro(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\discord_helper.py", line 54, in search
    response = search_text(query)
               ^^^^^^^^^^^^^^^^^^
  File "c:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\src\langchain_helper.py", line 70, in search_text
    summary = wikipedia.summary(results[0], sentences=3)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\util.py", line 28, in __call__
    ret = self._cache[key] = self.fn(*args, **kwargs)
                             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 231, in summary
    page_info = page(title, auto_suggest=auto_suggest, redirect=redirect)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 276, in page
    return WikipediaPage(title, redirect=redirect, preload=preload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 299, in __init__
    self.__load(redirect=redirect, preload=preload)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\wikipedia\wikipedia.py", line 345, in __load
    raise PageError(self.title)
wikipedia.exceptions.PageError: Page id "still road" does not match any pages. Try another id!

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\bot.py", line 1376, in invoke
    await ctx.command.invoke(ctx)
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 1064, in invoke
    await injected(*ctx.args, **ctx.kwargs)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Marcell Suyanto\OneDrive\Documents\GitHub\Discord_Agent\venv\Lib\site-packages\discord\ext\commands\core.py", line 275, in wrapped
    raise CommandInvokeError(exc) from exc
discord.ext.commands.errors.CommandInvokeError: Command raised an exception: PageError: Page id "still road" does not match any pages. Try another id!
[2025-09-10 13:26:13] [WARNING ] discord.gateway: Can't keep up, shard ID None websocket is 50.2s behind.
